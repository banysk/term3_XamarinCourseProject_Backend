-- drop if exists
DROP TABLE IF EXISTS PATTERNS CASCADE;

CREATE TABLE PATTERNS
(user_id INT, -- ID пользователя
 pattern_name VARCHAR(20), -- Название шаблона
 bill_number VARCHAR(20), -- Куда
 amount INT, -- Сколько
 -----
 foreign key(user_id)
 	references public.USERS(id),
 unique(user_id, pattern_name),
 -----
 CHECK(user_id is not null),
 CHECK(pattern_name is not null),
 CHECK(LENGTH(bill_number) >= 16),
 CHECK(amount is not null)
);